import {
  Button,
  Card,
  CardMedia,
  Grid,
  List,
  ListItem,
  Paper,
  TextField,
  Typography,
  Text,
} from '@mui/material';
import { purple } from '@mui/material/colors';
// import { flexbox } from '@mui/system';
import { position } from 'dom-helpers';
import Head from 'next/head';
import Image from 'next/image';
import styles from '../styles/Home.module.css';
import { useForm, Controller } from 'react-hook-form';

export default function Home() {
  const {
    handleSubmit,
    control,
    formState: { errors },
  } = useForm();

  const submitHandler = async (e) => {
    e.preventDefault();
  };

  return (
    <div className={styles.container}>
      <Head>
        <title>Online Event Ticketing</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="">
        <Grid
          container
          spacing={3}
          className={styles.grid}
          sx={{
            display: 'flex',
            justifyContent: 'center',
            py: 2,
            px: 5,
          }}
        >
          <Grid item xs={12} md={6} sx={{}}>
            <Paper
              sx={{ pt: 3, px: 11, boxShadow: 5, borderRadius: 15 }}
              className={styles.paper}
            >
              <Grid container justifyContent="center" spacing={3}>
                <Grid item xs={9}>
                  <Typography className={styles.title}>
                    Get Your Tickets
                  </Typography>
                </Grid>
                <Grid item xs={3} justify-content="end" sx={{ pb: 1 }}>
                  <Image
                    src="/cbebirrlogo.png"
                    alt="CBEBirr"
                    width={200}
                    height={100}
                    className={styles.logoImage}
                  />
                </Grid>
              </Grid>
              <Grid
                item
                sx={{
                  border: 1,
                  borderRadius: 4,
                  borderColor: 'purple',
                  px: 2,
                  pb: -5,
                  mb: 2,
                }}
              >
                <Typography className={styles.description}>
                  Event Ticket Details:
                </Typography>
                <List sx={{}}>
                  <Typography className={styles.listItem}>
                    <span className={styles.listTitle}>Event Name: </span>
                    Christmas Concert
                  </Typography>
                  <Typography>
                    <span className={styles.listTitle}>Date: </span>
                    December 20,2021
                  </Typography>
                  <Typography>
                    <span className={styles.listTitle}>Time: </span>4:00 PM
                    LocalTime
                  </Typography>
                  <Typography>
                    <span className={styles.listTitle}>Location:</span> Hilton
                    Hotel
                  </Typography>
                  <Typography>
                    <span className={styles.listTitle}>Price:</span>
                    <span className={styles.price}> 1000 ETB</span>
                  </Typography>
                </List>
                {/* <hr sx={{}} className={styles.hr} /> */}
              </Grid>
              <form onSubmit={handleSubmit(submitHandler)}>
                <Controller
                  name="phone"
                  control={control}
                  rules={{
                    required: true,
                    minLength: 9,
                  }}
                  render={({ field }) => (
                    <TextField
                      autoFocus
                      required
                      fullWidth
                      id="phone"
                      label="Phone Numberr"
                      type="number"
                      variant="outlined"
                      className={styles.textfield}
                      name="phone"
                      sx={{}}
                      inputProps={{ type: 'number' }}
                      error={Boolean(errors.phone)}
                      helperText={
                        errors.phone
                          ? errors.phone.type === 'minLength'
                            ? 'Phone Number length is more than 9'
                            : 'Phone Number is required'
                          : ''
                      }
                      {...field}
                    />
                  )}
                ></Controller>

                <Controller
                  name="pin"
                  control={control}
                  rules={{
                    required: true,
                    minLength: 6,
                  }}
                  render={({ field }) => (
                    <TextField
                      required
                      id="pin"
                      label="PIN Number"
                      type="password"
                      fullWidth
                      autoComplete=""
                      variant="outlined"
                      className={styles.textfield}
                      inputProps={{ type: 'number' }}
                      error={Boolean(errors.pin)}
                      helperText={
                        errors.pin
                          ? errors.pin.type !== 'minLength'
                            ? 'Pin Number is more than 6 digit'
                            : 'Pin Number is required'
                          : ''
                      }
                      {...field}
                    />
                  )}
                ></Controller>

                <TextField
                  required
                  id="birthDate"
                  label=""
                  type="date"
                  fullWidth
                  autoComplete=""
                  helperText="Date of Birth"
                  variant="outlined"
                  className={styles.textfield}
                  sx={{}}
                />

                <Grid item sx={{ display: 'flex', justifyContent: 'end' }}>
                  <Button
                    type=""
                    fullWidth
                    variant="outlined"
                    sx={{
                      mt: 1,
                      mb: 1,
                      mx: 5,
                      width: 150,
                      borderColor: 'purple',
                      color: 'purple',
                    }}
                  >
                    Back
                  </Button>
                  <Button
                    type="submit"
                    fullWidth
                    variant="contained"
                    sx={{
                      mt: 1,
                      mb: 1,
                      width: 150,
                      backgroundColor: 'purple',
                    }}
                  >
                    Next
                  </Button>
                </Grid>
              </form>
              <Typography sx={{ paddingTop: 3, pb: 1 }}>
                {' '}
                Powered by <span className={styles.logo}>CBEBirr</span>
              </Typography>
            </Paper>
          </Grid>
        </Grid>
      </main>

      <footer className={styles.footer}>
        <a rel="noopener noreferrer"></a>
      </footer>
    </div>
  );
}
